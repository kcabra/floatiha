[gd_scene load_steps=39 format=2]

[ext_resource path="res://exemplo/mytiles.png" type="Texture" id=1]
[ext_resource path="res://proto1/Spritu.gd" type="Script" id=2]
[ext_resource path="res://proto1/kam_anim1.png" type="Texture" id=3]
[ext_resource path="res://proto1/kam_anim2.png" type="Texture" id=4]
[ext_resource path="res://proto1/kam_anim3.png" type="Texture" id=5]
[ext_resource path="res://assets/ilhas/verde5.png" type="Texture" id=6]
[ext_resource path="res://assets/ilhas/verde2.png" type="Texture" id=7]
[ext_resource path="res://assets/ilhas/verde4.png" type="Texture" id=8]
[ext_resource path="res://proto1/Player.gd" type="Script" id=9]
[ext_resource path="res://assets/player/float1.png" type="Texture" id=10]
[ext_resource path="res://assets/player/float2.png" type="Texture" id=11]
[ext_resource path="res://proto1/get_down2.png" type="Texture" id=12]
[ext_resource path="res://proto1/get_down3.png" type="Texture" id=13]
[ext_resource path="res://assets/player/run1.png" type="Texture" id=14]
[ext_resource path="res://assets/player/run2.png" type="Texture" id=15]
[ext_resource path="res://assets/player/run3.png" type="Texture" id=16]
[ext_resource path="res://assets/player/run4.png" type="Texture" id=17]
[ext_resource path="res://assets/player/jmp1.png" type="Texture" id=18]
[ext_resource path="res://assets/player/jmp2.png" type="Texture" id=19]
[ext_resource path="res://assets/player/ppstand.png" type="Texture" id=20]
[ext_resource path="res://proto1/Sprite.gd" type="Script" id=21]

[sub_resource type="ConvexPolygonShape2D" id=13]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=14]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=17]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=18]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="TileSet" id=1]
7/name = "mytiles.png 7"
7/texture = ExtResource( 1 )
7/tex_offset = Vector2( 0, 0 )
7/modulate = Color( 1, 1, 1, 1 )
7/region = Rect2( 0, 0, 16, 16 )
7/tile_mode = 0
7/occluder_offset = Vector2( 0, 0 )
7/navigation_offset = Vector2( 0, 0 )
7/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
7/z_index = 0
8/name = "mytiles.png 8"
8/texture = ExtResource( 1 )
8/tex_offset = Vector2( 0, 0 )
8/modulate = Color( 1, 1, 1, 1 )
8/region = Rect2( 16, 0, 16, 16 )
8/tile_mode = 0
8/occluder_offset = Vector2( 0, 0 )
8/navigation_offset = Vector2( 0, 0 )
8/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 17 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
8/z_index = 0
9/name = "mytiles.png 9"
9/texture = ExtResource( 1 )
9/tex_offset = Vector2( 0, 0 )
9/modulate = Color( 1, 1, 1, 1 )
9/region = Rect2( 32, 0, 16, 16 )
9/tile_mode = 0
9/occluder_offset = Vector2( 0, 0 )
9/navigation_offset = Vector2( 0, 0 )
9/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 18 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
9/z_index = 0
10/name = "mytiles.png 10"
10/texture = ExtResource( 1 )
10/tex_offset = Vector2( 0, 0 )
10/modulate = Color( 1, 1, 1, 1 )
10/region = Rect2( 48, 0, 16, 16 )
10/tile_mode = 0
10/occluder_offset = Vector2( 0, 0 )
10/navigation_offset = Vector2( 0, 0 )
10/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 13 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
10/z_index = 0
11/name = "mytiles.png 11"
11/texture = ExtResource( 1 )
11/tex_offset = Vector2( 0, 0 )
11/modulate = Color( 1, 1, 1, 1 )
11/region = Rect2( 64, 0, 16, 16 )
11/tile_mode = 0
11/occluder_offset = Vector2( 0, 0 )
11/navigation_offset = Vector2( 0, 0 )
11/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 14 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
11/z_index = 0
12/name = "mytiles.png 12"
12/texture = ExtResource( 1 )
12/tex_offset = Vector2( 0, 0 )
12/modulate = Color( 1, 1, 1, 1 )
12/region = Rect2( 96, 16, 16, 16 )
12/tile_mode = 0
12/occluder_offset = Vector2( 0, 0 )
12/navigation_offset = Vector2( 0, 0 )
12/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
12/z_index = 0

[sub_resource type="SpriteFrames" id=2]
animations = [ {
"frames": [ ExtResource( 3 ), ExtResource( 4 ), ExtResource( 5 ), ExtResource( 4 ) ],
"loop": true,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 54.2612, 40.0642 )

[sub_resource type="RectangleShape2D" id=19]
extents = Vector2( 83.192, 7.54779 )

[sub_resource type="RectangleShape2D" id=20]
extents = Vector2( 46.0493, 7.54779 )

[sub_resource type="RectangleShape2D" id=21]
extents = Vector2( 81.591, 5.98505 )

[sub_resource type="Animation" id=8]
resource_name = "interact"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath("Iha3v2:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.8, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 573.506, 348.843 ), Vector2( 573.506, 348.843 ), Vector2( 862.764, 53.8569 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Iha3v2:rotation_degrees")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.8, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 71.107, 71.107, 0.0 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Iha:position")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.4, 1 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 763.881, 328.285 ), Vector2( 763.881, 328.285 ), Vector2( 511.854, 13.2512 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Iha:rotation_degrees")
tracks/3/interp = 2
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.4, 1 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ -105.0, -105.0, 0.0 ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Iha2:position")
tracks/4/interp = 2
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 291.646, 266.541 ), Vector2( 177.834, 33.13 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("Iha2:rotation_degrees")
tracks/5/interp = 2
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 37.4512, 0.0 ]
}

[sub_resource type="SpriteFrames" id=9]
animations = [ {
"frames": [ ExtResource( 10 ), ExtResource( 11 ) ],
"loop": true,
"name": "float",
"speed": 5.0
}, {
"frames": [ ExtResource( 12 ), ExtResource( 13 ), ExtResource( 12 ) ],
"loop": false,
"name": "interact",
"speed": 5.0
}, {
"frames": [ ExtResource( 14 ), ExtResource( 15 ), ExtResource( 16 ), ExtResource( 17 ) ],
"loop": true,
"name": "run",
"speed": 10.0
}, {
"frames": [ ExtResource( 18 ), ExtResource( 19 ) ],
"loop": false,
"name": "jump",
"speed": 5.0
}, {
"frames": [ ExtResource( 20 ) ],
"loop": true,
"name": "still",
"speed": 5.0
} ]

[sub_resource type="RectangleShape2D" id=10]
extents = Vector2( 21.2225, 37.3596 )

[sub_resource type="GDScript" id=11]
script/source = "extends Label

onready var player = get_parent()

func _process(delta):
	var label = \"\"
	label += \"hspeed = \" + String(player.move_vec.x) + \"\\n\"
	label += \"grounded = \" + String(player.grounded)
	
	self.text = label"

[sub_resource type="CapsuleShape2D" id=12]
radius = 39.1971
height = 73.0625

[node name="prototype 1" type="Node2D"]

[node name="Level" type="Node2D" parent="."]

[node name="basemap2" type="TileMap" parent="Level"]
scale = Vector2( 4, 4 )
tile_set = SubResource( 1 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 262140, 8, 0, 262141, 9, 0, 262142, 10, 0, 327676, 7, 0, 327677, 7, 0, 327678, 7, 0, 393212, 7, 0, 393213, 7, 0, 393214, 7, 0, 458748, 7, 0, 458749, 7, 0, 458750, 7, 0, 524284, 7, 0, 524285, 7, 0, 524286, 7, 0, 589820, 7, 0, 589821, 7, 0, 589822, 12, 0, 589823, 9, 0, 524288, 9, 0, 524289, 9, 0, 524290, 9, 0, 524291, 9, 0, 524292, 9, 0, 524293, 9, 0, 524294, 9, 0, 524295, 9, 0, 524296, 9, 0, 524297, 9, 0, 524298, 9, 0, 524299, 9, 0, 524300, 9, 0, 524301, 9, 0, 524302, 9, 0, 524303, 9, 0, 524304, 10, 0, 524307, 8, 0, 524308, 9, 0, 524309, 9, 0, 524310, 10, 0, 524314, 8, 0, 524315, 9, 0, 524316, 9, 0, 524317, 9, 0, 524318, 9, 0, 524319, 10, 0, 524336, 8, 0, 524337, 9, 0, 524338, 9, 0, 524339, 9, 0, 524340, 9, 0, 524341, 9, 0, 524342, 9, 0, 524343, 9, 0, 524344, 9, 0, 524345, 9, 0, 524346, 10, 0, 655356, 7, 0, 655357, 7, 0, 655358, 7, 0, 655359, 7, 0, 589824, 7, 0, 589825, 7, 0, 589826, 7, 0, 589827, 7, 0, 589828, 7, 0, 589829, 7, 0, 589830, 7, 0, 589831, 7, 0, 589832, 7, 0, 589833, 7, 0, 589834, 7, 0, 589835, 7, 0, 589836, 7, 0, 589837, 7, 0, 589838, 7, 0, 589839, 7, 0, 589840, 7, 0, 589843, 7, 0, 589844, 7, 0, 589845, 7, 0, 589846, 7, 0, 589850, 7, 0, 589851, 7, 0, 589852, 7, 0, 589853, 7, 0, 589854, 7, 0, 589855, 7, 0, 589872, 7, 0, 589873, 7, 0, 589874, 7, 0, 589875, 7, 0, 589876, 7, 0, 589877, 7, 0, 589878, 7, 0, 589879, 7, 0, 589880, 7, 0, 589881, 7, 0, 589882, 7, 0, 536870912, 0, 0, 536870913, 0, 0, 536870914, 0, 0, 536870916, 0, 0, 536870917, 0, 0 )

[node name="Spritu" type="Area2D" parent="Level" groups=[
"interactable",
]]
position = Vector2( 1977.58, 495.908 )
collision_layer = 2
collision_mask = 2
script = ExtResource( 2 )

[node name="AnimatedSprite" type="AnimatedSprite" parent="Level/Spritu"]
position = Vector2( -1.16626, -32.6578 )
scale = Vector2( 4, 4 )
frames = SubResource( 2 )
frame = 2
playing = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Spritu"]
position = Vector2( -1.16626, -31.4916 )
rotation = -1.5708
shape = SubResource( 3 )

[node name="Iha" type="StaticBody2D" parent="Level/Spritu"]
editor/display_folded = true
position = Vector2( 763.881, 328.285 )
rotation = -1.83259
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Level/Spritu/Iha"]
scale = Vector2( 4, 4 )
texture = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Spritu/Iha"]
position = Vector2( 0, -47.2687 )
shape = SubResource( 19 )
one_way_collision = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Level/Spritu/Iha"]
polygon = PoolVector2Array( -82.3491, -40.9376, -65.2073, -2.94769, -40.1896, 23.4599, -11.4655, 37.822, 49.6889, 50.3308, 71.9269, 50.3308, 84.899, 38.2852, 88.1421, -7.5806, 81.1927, -40.4743 )
disabled = true

[node name="Iha2" type="StaticBody2D" parent="Level/Spritu"]
editor/display_folded = true
position = Vector2( 291.646, 266.541 )
rotation = 0.653646
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Level/Spritu/Iha2"]
scale = Vector2( 4, 4 )
texture = ExtResource( 7 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Spritu/Iha2"]
position = Vector2( -1.46307, -30.2001 )
shape = SubResource( 20 )
one_way_collision = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Level/Spritu/Iha2"]
polygon = PoolVector2Array( -43.683, -22.9609, -8.08267, 37.9984, 25.5669, 6.29956, 41.1725, -23.4486 )
disabled = true

[node name="Iha3v2" type="StaticBody2D" parent="Level/Spritu"]
editor/display_folded = true
position = Vector2( 573.506, 348.843 )
rotation = 1.24105
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Level/Spritu/Iha3v2"]
scale = Vector2( 4, 4 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Spritu/Iha3v2"]
position = Vector2( -3.34497, -55.7294 )
shape = SubResource( 21 )
one_way_collision = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="Level/Spritu"]
anims/interact = SubResource( 8 )

[node name="Player" type="KinematicBody2D" parent="."]
script = ExtResource( 9 )

[node name="Sprite" type="AnimatedSprite" parent="Player"]
scale = Vector2( 4, 4 )
frames = SubResource( 9 )
animation = "interact"
frame = 2
playing = true
script = ExtResource( 21 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2( -0.513351, 2.56671 )
shape = SubResource( 10 )

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true
limit_bottom = 640
drag_margin_h_enabled = false
drag_margin_v_enabled = false
smoothing_enabled = true

[node name="Label" type="Label" parent="Player"]
margin_left = -48.0775
margin_top = -74.9314
margin_right = -8.07755
margin_bottom = -60.9314
align = 1
valign = 1
script = SubResource( 11 )

[node name="RayCast2D" type="RayCast2D" parent="Player"]
position = Vector2( -16.2899, 35.0387 )
enabled = true
cast_to = Vector2( 0, 10 )

[node name="RayCast2D2" type="RayCast2D" parent="Player"]
position = Vector2( 15.9826, 35.6534 )
enabled = true
cast_to = Vector2( 0, 10 )

[node name="Area2D" type="Area2D" parent="Player"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Area2D"]
rotation = -1.5708
shape = SubResource( 12 )
[connection signal="interacted" from="Player" to="Player/Sprite" method="_on_Player_interacted"]
